<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Perfil do Usuário</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #cbb4e3, #e1c5ff);
      display: flex;
      min-height: 100vh;
      overflow: hidden;
    }

    /* MENU SUPERIOR */
    .topbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background-color: #a678e2;
      color: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
      font-size: 18px;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .logo {
      font-weight: bold;
      font-size: 22px;
    }

    .login-btn {
      background-color: #fff;
      color: #a678e2;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s, color 0.3s;
    }

    .login-btn:hover {
      background-color: #915cd3;
      color: #fff;
    }

    /* MENU LATERAL */
    .sidebar {
      width: 200px;
      background-color: #a678e2;
      color: #fff;
      display: flex;
      flex-direction: column;
      padding: 20px;
      overflow-y: auto;
      margin-top: 60px; /* deixa abaixo da topbar */
    }

    .sidebar h1 {
      font-size: 22px;
      margin-bottom: 20px;
    }

    .sidebar ul {
      list-style: none;
    }

    .sidebar ul li {
      margin: 10px 0;
      cursor: pointer;
      padding: 8px 12px;
      border-radius: 5px;
      transition: background 0.3s;
    }

    .sidebar ul li:hover {
      background-color: #8c5edc;
    }

    /* CONTEÚDO */
    .container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 100px 40px 40px; /* espaço para topbar */
      overflow-y: auto;
    }

    .card {
      background-color: #fff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      text-align: center;
      width: 350px;
      position: relative;
    }

    .card img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 15px;
      border: 4px solid #a678e2;
    }

    .card h2 {
      font-size: 24px;
      color: #333;
      margin-bottom: 10px;
    }

    .info {
      margin-top: 15px;
      text-align: left;
    }

    .info p {
      font-size: 14px;
      color: #555;
      margin: 8px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .info i {
      color: #a678e2;
      width: 18px;
    }

    .icons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
      position: relative;
    }

    .icons i {
      font-size: 20px;
      color: #555;
      cursor: pointer;
      transition: color 0.3s;
    }

    .icons i:hover {
      color: #000;
    }

    .fav {
      position: relative;
    }

    #tooltipFav {
      position: absolute;
      bottom: 40px;
      right: 0;
      background: #3a2e5c;
      color: #fff;
      padding: 15px;
      border-radius: 10px;
      font-size: 14px;
      width: 220px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
      display: none;
      z-index: 100;
      text-align: left;
    }

    #tooltipFav.show {
      display: block;
    }

    #tooltipFav strong {
      display: block;
      margin-bottom: 8px;
      font-size: 16px;
      border-bottom: 1px solid #7e68c3;
      padding-bottom: 5px;
    }

    #tooltipFav ul {
      padding-left: 20px;
      margin-bottom: 10px;
      max-height: 120px;
      overflow-y: auto;
    }

    #tooltipFav ul li {
      margin-bottom: 6px;
    }

    #tooltipFav textarea {
      width: 100%;
      border-radius: 6px;
      padding: 6px;
      font-size: 14px;
      resize: vertical;
      display: none;
      box-sizing: border-box;
      border: none;
      outline: none;
      background: #fff;
      color: #000;
    }

    #tooltipFav .close-btn {
      position: absolute;
      top: 6px;
      right: 8px;
      font-size: 16px;
      color: #ccc;
      cursor: pointer;
      transition: color 0.3s;
    }

    #tooltipFav .close-btn:hover {
      color: #fff;
    }

    input {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 4px 8px;
      font-size: 14px;
      width: 100%;
    }

    .save-btn {
      margin-top: 15px;
      padding: 8px 15px;
      border: none;
      background-color: #a678e2;
      color: #fff;
      border-radius: 8px;
      cursor: pointer;
      display: none;
    }

    .save-btn:hover {
      background-color: #915cd3;
    }
  </style>
</head>
<body>
  <!-- MENU SUPERIOR -->
  <header class="topbar">
    <div class="logo">Ensino de Chinelo</div>
    <div class="login-btn" onclick="alert('Página de login em construção!')">Entrar</div>
  </header>

  <!-- MENU LATERAL -->
  <nav class="sidebar">
    <h1>Menu</h1>
    <ul>
      <li onclick="alert('Você está no Perfil')"><i class="fas fa-user"></i> Perfil</li>
      <li onclick="alert('Configurações em breve...')"><i class="fas fa-cog"></i> Configurações</li>
      <li onclick="alert('Você saiu.')"><i class="fas fa-sign-out-alt"></i> Sair</li>
    </ul>
  </nav>

  <!-- CONTEÚDO -->
  <div class="container">
    <div class="card">
      <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="Imagem de Perfil Padrão" />
      <h2 id="nameDisplay"></h2>
      <input type="text" id="nameInput" style="display: none; text-align: center; font-weight: bold" />

      <div class="info">
        <p><i class="fas fa-user-graduate"></i> <span id="roleDisplay"></span><input type="text" id="roleInput" style="display: none" /></p>
        <p><i class="fas fa-map-marker-alt"></i> <span id="locationDisplay"></span><input type="text" id="locationInput" style="display: none" /></p>
        <p><i class="fas fa-envelope"></i> <span id="emailDisplay"></span><input type="email" id="emailInput" style="display: none" /></p>
        <p><i class="fas fa-phone"></i> <span id="phoneDisplay"></span><input type="text" id="phoneInput" style="display: none" /></p>
      </div>

      <button class="save-btn" id="saveBtn">Salvar</button>

      <div class="icons">
        <i class="fas fa-pencil-alt" title="Editar perfil" onclick="toggleEdit()"></i>
        <i class="fas fa-share-alt" title="Compartilhar"></i>

        <div class="fav">
          <i class="fas fa-heart" id="favBtn" title="Cursos Favoritos"></i>
          <div class="tooltip" id="tooltipFav">
            <span class="close-btn" id="closeTooltip">&times;</span>
            <strong>Cursos Favoritos:</strong>
            <ul id="courseList"></ul>
            <textarea id="courseInput" rows="4" placeholder="Digite cursos favoritos separados por linha..."></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const user = {
      nome: "Lucas Almeida",
      papel: "Aluno",
      cidade: "Fortaleza, CE",
      email: "lucas.almeida@email.com",
      telefone: "(85) 98888-7777",
      cursosFavoritos: ["Front-End Web", "Lógica de Programação", "Python Básico"],
    };

    const saveBtn = document.getElementById("saveBtn");
    const favBtn = document.getElementById("favBtn");
    const tooltipFav = document.getElementById("tooltipFav");
    const courseList = document.getElementById("courseList");
    const courseInput = document.getElementById("courseInput");
    const closeTooltip = document.getElementById("closeTooltip");

    function mostrarDados() {
      document.getElementById("nameDisplay").textContent = user.nome;
      document.getElementById("roleDisplay").textContent = user.papel;
      document.getElementById("locationDisplay").textContent = user.cidade;
      document.getElementById("emailDisplay").textContent = user.email;
      document.getElementById("phoneDisplay").textContent = user.telefone;

      document.getElementById("nameInput").value = user.nome;
      document.getElementById("roleInput").value = user.papel;
      document.getElementById("locationInput").value = user.cidade;
      document.getElementById("emailInput").value = user.email;
      document.getElementById("phoneInput").value = user.telefone;

      courseList.innerHTML = "";
      courseInput.value = user.cursosFavoritos.join("\n");

      user.cursosFavoritos.forEach((curso) => {
        const li = document.createElement("li");
        li.textContent = curso;
        courseList.appendChild(li);
      });
    }

    mostrarDados();

    function toggleEdit() {
      const fields = ["name", "role", "location", "email", "phone"];

      fields.forEach((field) => {
        document.getElementById(field + "Display").style.display = "none";
        document.getElementById(field + "Input").style.display = "inline-block";
      });

      courseList.style.display = "none";
      courseInput.style.display = "block";
      saveBtn.style.display = "inline-block";

      saveBtn.onclick = function () {
        fields.forEach((field) => {
          const input = document.getElementById(field + "Input");
          const display = document.getElementById(field + "Display");
          user[field === "role" ? "papel" : field === "location" ? "cidade" : field] = input.value;
          display.textContent = input.value;
          input.style.display = "none";
          display.style.display = "inline";
        });

        const novosCursos = courseInput.value.split("\n").map((c) => c.trim()).filter((c) => c);
        user.cursosFavoritos = novosCursos;

        courseList.innerHTML = "";
        novosCursos.forEach((curso) => {
          const li = document.createElement("li");
          li.textContent = curso;
          courseList.appendChild(li);
        });

        courseInput.style.display = "none";
        courseList.style.display = "block";
        saveBtn.style.display = "none";
        tooltipFav.classList.remove("show");
      };
    }

    favBtn.addEventListener("click", () => {
      tooltipFav.classList.toggle("show");
    });

    closeTooltip.addEventListener("click", () => {
      tooltipFav.classList.remove("show");
    });

    document.addEventListener("click", (event) => {
      if (!tooltipFav.contains(event.target) && event.target !== favBtn) {
        tooltipFav.classList.remove("show");
      }
    });
  </script>
</body>
</html>
